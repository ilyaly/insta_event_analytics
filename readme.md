# Insta events analytics - Аналитика туристских потоков c использованием данных Instagram 
**Что это?**

Данный репозиторий представляет собой набор скриптов для анализа туристских потоков на основании пользователских данных в  instagram людей или иное мероприятие.
Скрипты написаны для использования в исследованиях посвященных событийному туризму для определения туристских потоков.

**А есть примеры?**

С примером карты-результата можно ознакомится по ссылке: https://ilyaly.github.io/insta_event_analytics/

**Как это работает?**

В репозитории представлены два скрипта:
- collect_users
- collect_home_locations
- geocoder
- leaflet_map_creator

Скрипт "collect_users" собирает имена пользователей имеющих в Instagram посты с определенным хештегом и сохраняет список имен в файл *.csv.
Для определения туристских потоков мероприятия необходимо использовать оффициальный или самый популярный хештег мероприятия.

Скрипт "collect_homes_locatios" собирает домашние локации (geotag) пользователей из списка и сохраняет их в файл *.csv а файл с координатами в *geojson

Скрипт "geocoder" - отдельный скрипт для геокодирования *.csv с геотегами домашних локация

Скрипт "leaflet_map_creator" создает HTML страницу с картой домашних локаций

**Принцип работы алгоритмов**

- 1.Скрипт собирает список ссылок на все постоы с заданным хештегом. 
- 2.Делает запрос к странице каждого поста из списка и поучает имя пользователя.
- 3.Для каждого пользователя собираются ссылки на последние 48 постов ( количество можно изменить, выбрано для приемлемого времени обработки с приемлемой точностью определения домашней локации).
- 4.Делается запрос на страницу каждого поста и собирается геопозиция поста
- 5.Составляется список геопозиций пользователя и выбирается наиболее часто встречающаяся.
- 6.Данная локация считается домашней и добавляется в список домашних локаций

**Зависимости**

Python 3
Libs: geocoder
